<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>


	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="verify-v1" content="J75JQ+WGFRjBEnhNT4hhYxgVTQmRHjd0v3JF+izUFvA=">
	<title>Heroku | Managing Gems</title>
	<link type="text/css" rel="stylesheet" href="Managing%20Gems_files/docs.css" media="screen">
	<link type="text/css" rel="stylesheet" href="Managing%20Gems_files/shCore.css">
	<link type="text/css" rel="stylesheet" href="Managing%20Gems_files/shThemeHeroku.css">
	<script type="text/javascript" src="Managing%20Gems_files/jquery-1.js"></script>
	<script type="text/javascript" src="Managing%20Gems_files/shCore.js"></script>
	<script type="text/javascript" src="Managing%20Gems_files/shBrushRuby.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			SyntaxHighlighter.config.tagName = 'code'
			SyntaxHighlighter.defaults['tag'] = false;
			SyntaxHighlighter.defaults['gutter'] = false;
			SyntaxHighlighter.defaults['toolbar'] = false;
			SyntaxHighlighter.all();
		});
	</script>
</head><body>
<div id="bodywrap">

	<style type="text/css">
#header { margin: 0; padding: 0; border: 0; font-weight: inherit; font-style: inherit; font-size: 100%; font-family: arial, helvetica, sans-serif; vertical-align: baseline; margin-bottom: 15px; }

#header { background-color: #29264d; border-bottom-style: solid; border-bottom-width: 3px; border-bottom-color: #494573; overflow: hidden; display: inline-block; }
#header { display: block; }
#header a { color: #c9c3e6; text-decoration: none; font-weight: normal; }
#header a:hover { color: #fff; }
#header #logo { margin: 20px 0 15px 25px; float: left; }
#header #logo a { display: block; text-indent: -9999px; width: 177px; height: 56px; overflow: hidden; background-image: url(http://heroku.com/images/v2/logo.png); background-repeat: no-repeat; }
#header ul { list-style-type: none; overflow: hidden; display: inline-block; float: right; margin-top: 30px; padding: 10px; }
#header ul { display: block; }
#header ul li { float: left; margin-left: 10px; }
#header ul li:first-child { margin-left: 0; }
#header ul li { border-left-style: solid; border-left-width: 2px; border-left-color: #534890; padding-left: 10px; font-size: 16px; }
#header ul li:first-child, #header ul li#account_login { border: none; margin-left: 0; padding-left: 0; }
#header ul li a.active { color: #bff740; }
#header ul li a.active:hover { color: #bff740; }
#header ul.account-links { background-color: #231d40; padding-left: 15px; padding-right: 15px; margin-right: 25px; margin-left: 10px; -moz-border-radius: 7px; -webkit-border-radius: 7px; }
#header ul.account-links a { color: #45a4ff; }
#header ul.account-links a:hover { color: #74d0f4; }
#header ul.account-links a.active { color: #bff740; }
#header ul.account-links a.active:hover { color: #bff740; }

</style>


<div id="header">
	
		<h5 id="logo"><a href="http://heroku.com/">Heroku</a></h5>
	

	<ul class="account-links inline">
		<div id="logged-in-links" style="display: none;">
			<li><a href="http://heroku.com/myapps">My Apps</a></li>
			<li><a href="http://heroku.com/account">My Account</a></li>
			<li><a href="http://heroku.com/logout">Logout</a></li>
		</div>
		<li id="account_login"><a href="http://heroku.com/login">Login</a></li>
	</ul>
	<ul class="info-links inline">
		<!-- <li><a href="http://heroku.com/about">About</a></li> -->
		<li><a href="http://heroku.com/how">How it Works</a></li>
		<li><a href="http://heroku.com/pricing">Pricing</a></li>
		<!-- <li><a href="http://blog.heroku.com/">Blog</a></li> -->
		<li><a href="http://docs.heroku.com/" class="active">Docs</a></li>
		<li><a href="http://support.heroku.com/" id="support_link">Support</a></li>
	</ul>
</div>

<script type="text/javascript">
	if (document.cookie.indexOf('heroku_session=') != -1) {
		document.getElementById('support_link').href = 'http://heroku.com/helpdesk/login';
		document.getElementById('logged-in-links').style.display = 'block';
		document.getElementById('account_login').style.display = 'none';
	}
</script>



	<div id="docsnav">
		<form action="/search" id="cse-search-box">
			<div id="search">
				<input name="cx" value="011016403564345195107:s5fypn6csxi" type="hidden">
				<input name="cof" value="FORID:10;NB:1" type="hidden">
				<input name="ie" value="UTF-8" type="hidden">
				<input style="border: 1px solid rgb(126, 157, 185); padding: 2px; background: rgb(255, 255, 255) url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) no-repeat scroll left center; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous;" name="q" size="31" type="text">
			</div>
		<input value="14d5058e-f79f-0935-acbc-c29344a71d2a" name="vid" type="hidden"></form>

		<ul>
			
				<li>
				<h3>Getting Started</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/heroku">What is Heroku?</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/quickstart">Quickstart Guide</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Application Management</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/heroku-command">Installing the Heroku command-line tool</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/creating-apps">Creating apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/renaming-apps">Renaming apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/git">Deploying with Git</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/sharing">Collaborating with others</a></li>
						
					
						
							<li class="current"><a>Managing Gems</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/taps">Database import / export</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/console">Using the console</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/rake">Running rake tasks</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/config-vars">Config vars</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/backups">Backups</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/addons">Managing Addons</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Platform Features</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/technologies">System Infrastructure</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/dynos">Dynos</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/database">SQL Database</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/http-caching">HTTP cache</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/rack">Rack apps</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/custom-domains">Custom domains</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/ssl">SSL</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/cron">Cron</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/background-jobs">Background jobs</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/s3">Storing uploads in S3</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/smtp">Outbound email</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/full-text-indexing">Full text search indexing</a></li>
						
					
				</ul>
				</li>
			
				<li>
				<h3>Troubleshooting</h3>
				<ul>
					
						
							<li><a href="http://docs.heroku.com/constraints">Application constraints</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/logs-exceptions">Logs and exceptions</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/errors">Error pages</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/performance">Performance</a></li>
						
					
						
							<li><a href="http://docs.heroku.com/support">Getting support</a></li>
						
					
				</ul>
				</li>
			
		</ul>
	</div>

	<div id="content">
		<div class="topic_content">
			<h1>Managing Gems</h1>



<a name="overview"></a>


	<ul id="toc">
		
			<li><a href="#overview">Overview</a></li>
		
			<li><a href="#system-gems">System Gems</a></li>
		
			<li><a href="#creating-a-gem-manifest-file">Creating a Gem Manifest File</a></li>
		
			<li><a href="#deploying-gem-changes">Deploying Gem Changes</a></li>
		
	</ul>


<h2>Overview</h2>

<p>Every Heroku app includes a private gem repository that can be used to install
both pure-ruby gems and compiled extension gems. Gems available to an
application are determined by a simple <code>.gems</code> manifest file located in the root
of the application directory and versioned in the app’s git repository like any
other file. When a new version of the app is pushed to Heroku, any changes to
the <code>.gems</code> file are detected and new gems are installed along with their
dependencies.</p>

<p>Using the <code>.gems</code> manifest has some distinct advantages over freezing gems under
an application’s <code>vendor/gems</code> directory. Freezing gems can make your git
repository quite large, which slows down push and deploy operations. More
importantly, it’s possible to install compiled extension gems via the manifest
file, whereas frozen vendor gems are limited to pure-ruby libraries.</p>

<a name="system-gems"></a><h2>System Gems</h2>

<p>All apps deployed to Heroku have access to a number of gems installed as part of
the <a href="http://docs.heroku.com/technologies">base platform</a>. See <a href="http://installed-gems.heroku.com/">installed-gems.heroku.com</a>
for a comprehensive listing.</p>

<p>Gems installed as part of your application override Heroku system gems.</p>

<a name="creating-a-gem-manifest-file"></a><h2>Creating a Gem Manifest File</h2>

<p>The gems manifest is a simple text file that includes information about each of
the gems required by an application. Each entry in the manifest includes a
mandatory gem name along with optional <code>version</code> and <code>source</code> options.  The
following is an example <code>.gems</code> manifest file that includes two gems:</p>

<pre><code>hpricot --version '&gt;= 0.2' --source code.whytheluckystiff.net
dm-core --version 0.9.10
</code></pre>

<p>Each line of the <code>.gems</code> file includes the following:</p>

<ul>
<li><p>The name of the gem, as would be specified on the <code>gem install</code>
command line.</p></li>
<li><p>An optional gem version specifier. This can be a basic version
number like <code>"0.1.2"</code> or an advanced version specifier with comparison
constraints like <code>"&gt;= 0.1.2"</code> (see
<a href="http://www.rubygems.org/read/chapter/16">Specifying Versions</a> in the
RubyGems manual for more information). When no explicit version is specified,
the most recent version of the gem is installed.</p></li>
<li><p>An optional gem repository source URL, like <code>gems.rubyforge.org</code>,
<code>gems.github.com</code>, or <code>gems.mycustomrepo.com</code>. The <code>gems.rubyforge.org</code> repository
is always included as the last source. Multiple <code>--source</code> arguments
may be provided for cases where dependencies cross multiple repositories.</p></li>
</ul>


<p><strong>TIP:</strong> The <code>--version</code> and <code>--source</code> options have short forms just like the
<code>gem</code> command; use <code>-v</code> and <code>-s</code>, respectively.</p>

<a name="deploying-gem-changes"></a><h2>Deploying Gem Changes</h2>

<p>When a <code>.gems</code> manifest file is added or modified, it must be committed to the
app’s git repository and pushed to Heroku for changes to take effect. The actual
gem install process occurs during the <code>git push</code> operation.</p>

<p>The following example adds a <code>.gems</code> file to the app’s git repository, commits
it, and pushes to the remote heroku repository:</p>

<pre><code>$ git add .gems
$ git commit -m 'added gems manifest file'
$ git push heroku
Counting objects: 4, done.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 356 bytes, done.
Total 3 (delta 1), reused 0 (delta 0)

-----&gt; Heroku receiving push

-----&gt; Installing gem hpricot &gt;= 0.2 from http://code.whytheluckystiff.net
       Building native extensions.  This could take a while...
       Successfully installed hpricot-0.6
       1 gem installed

-----&gt; Installing gem dm-core 0.9.10 from http://gems.rubyforge.org
       Successfully installed addressable-2.0.2
       Successfully installed extlib-0.9.10
       Successfully installed data_objects-0.9.11
       Successfully installed dm-core-0.9.10
       4 gems installed

-----&gt; Rails app detected
       Compiled slug size is 4.3MB
-----&gt; Launching.............. done
       App deployed to Heroku

To git@heroku.com:vivid-moon-60.git
   91425e3..fe10e87  master -&gt; master
</code></pre>

<p>The push is aborted if the gem manifest is invalid or a gem fails to install,
ensuring that an application is not deployed in an inconsistent state.</p>



	<div id="next_section">Next: <a href="http://docs.heroku.com/taps">Database import / export →</a></div>


<a href="http://docs.heroku.com/taps">		</a></div>
<a href="http://docs.heroku.com/taps">	</a></div>
</div>

<!-- google site search -->
<script type="text/javascript" src="Managing%20Gems_files/jsapi"></script>
<script type="text/javascript">google.load("elements", "1", {packages: "transliteration"});</script><script src="Managing%20Gems_files/a" type="text/javascript"></script><a href="http://docs.heroku.com/taps"><link href="Managing%20Gems_files/transliteration.css" type="text/css" rel="stylesheet"><script src="Managing%20Gems_files/transliteration.js" type="text/javascript"></script>
<script type="text/javascript" src="Managing%20Gems_files/t13n.htm"></script>
<script type="text/javascript" src="Managing%20Gems_files/brand.htm"></script>


<!-- loopfuse -->
<script src="Managing%20Gems_files/listen.js" type="text/javascript"></script>
<script type="text/javascript">
_lf_cid = "LF_024e931f";
_lf_remora();
</script>

<!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Managing%20Gems_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-2989055-1");
pageTracker._setDomainName(".heroku.com");
pageTracker._trackPageview();
} catch(err) {}
</script>


</a></body><xdTrailArea><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 5px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 728px; top: 218px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 729px; top: 222px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 730px; top: 228px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 731px; top: 234px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 732px; top: 240px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 733px; top: 246px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 734px; top: 252px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 9px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 735px; top: 258px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 736px; top: 266px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 737px; top: 272px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 738px; top: 278px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 739px; top: 284px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 740px; top: 290px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 7px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 741px; top: 296px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 5px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 742px; top: 302px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 744px; top: 305px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 746px; top: 306px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 748px; top: 307px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 750px; top: 308px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 752px; top: 309px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 5px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 754px; top: 310px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 9px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 758px; top: 311px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 9px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 766px; top: 312px;"></xdTrailDot><xdTrailDot style="border: 0px none ; background: rgb(51, 255, 51) none repeat scroll 0% 0%; width: 2px; height: 2px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; position: absolute; z-index: 2147483647; left: 774px; top: 313px;"></xdTrailDot></xdTrailArea></html>
<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="horizontal" verticalAlign="top"
    horizontalAlign="center" backgroundGradientColors="[0x000000,0x323232]"
    width="1024" height="768" creationComplete="onCreationComplete()"
    paddingTop="0" viewSourceURL="srcview/index.html">
    
    <mx:Style>
		.text {
			color: #FFFFFF;
			font-family: Verdana;
		}
    </mx:Style>
    
    <mx:Script>
        <![CDATA[
        	import mx.events.SliderEvent;
        	import mx.events.VideoEvent;
        	
        	[Bindable]
        	private var processTime:Number = 0;
        	
            [Bindable]
            private var TitleText:String = "<b>VideoDisplay Control:</b>" + "\n"  + "Use the buttons to control the video.";
            
            private function onCreationComplete():void {
 				var readyTimer:Timer = new Timer(5000, 0);
				readyTimer.addEventListener(TimerEvent.TIMER, timerHandler);
				readyTimer.start();             	
            }
            
			private function timerHandler(event:TimerEvent):void
			{
				// trace(myVid.playheadTime + "/" + myVid.totalTime);
				videoProcess.value = int(myVid.playheadTime * 100 / myVid.totalTime);
			}            

			private function changeHandler(event:SliderEvent):void
			{
				myVid.playheadTime = myVid.totalTime * (event.value/100);
				if(!myVid.playing) {
					myVid.play();
				}
			}            
        ]]>
    </mx:Script>
    
    <mx:VBox backgroundColor="0x323232" width="100%" height="100%" backgroundAlpha="1" horizontalAlign="center"
        borderThickness="4" borderColor="0x545454" cornerRadius="4" borderStyle="solid" paddingTop="5" >
        
        <mx:HBox>
	        <mx:Text width="75%" color="0xffffff" textAlign="center" htmlText="{TitleText}"/>        
            <mx:Button label="Play" color="0x00000" click="myVid.play();"/>
            <mx:Button label="Pause" color="0x00000" click="myVid.pause();"/>
            <mx:Button label="Stop" color="0x00000" click="myVid.stop();"/>
        </mx:HBox>        

        <mx:VideoDisplay id="myVid" width="100%" height="90%" 
        	source="assets/netbeans_history.flv" autoPlay="false"/>
        
        <mx:HSlider id="videoProcess" minimum="0" maximum="100" width="100%"
            dataTipPlacement="top"
            tickColor="black" labelStyleName="text"
            snapInterval="1" tickInterval="10" 
            labels="['0','100%']" 
            allowTrackClick="true" 
            liveDragging="true"
            change="changeHandler(event)"/>
        
    </mx:VBox>
</mx:Application>
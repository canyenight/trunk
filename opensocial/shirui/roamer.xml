<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Campus Roamer">
    <Require feature="flash"/>
    <Require feature="opensocial-0.8"/>
  </ModulePrefs>
  <Content type="html">
  
  <![CDATA[

<script src="http://opensocial-resources-zh.googlecode.com/svn/trunk/opensocial-flashapi/samples/opensocial-flashapi.js"
        type="text/javascript"></script>


<script type="text/javascript">

    var jsReady = false;

    function isReady() {
        return jsReady;
    }

    function thisMovie(movieName) {
        if (navigator.appName.indexOf("Microsoft") != -1) {
            return window[movieName];
        } else {
            return document[movieName];
        }
    }

    function sendToActionScript(value) {
        thisMovie("flash_container").sendToActionScript(value);
    }

    function testExternalInterface(value) {
        alert("I am " + value);
    }

    function init() {
        jsReady = true;

        // load spring graph
        flashAPI.embedFlash("http://shirui.googlecode.com/svn/trunk/opensocial/shirui/PersonDemo.swf",
        "flash_container", "9", {width: 780, height: 480, quality: "high", allowScriptAccess: "always"});
    }

    gadgets.util.registerOnLoadHandler(init);
</script>

<div id='main'>
    <input type="button" value="Send" onclick="sendToActionScript(new Date());" />
    <div id='flash_container'></div>
    <div id='me'></div>
    <div id='friends'></div>
</div>

  ]]>
  
  </Content>
</Module>
